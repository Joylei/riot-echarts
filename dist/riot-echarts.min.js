!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("echarts"),require("riot")):"function"==typeof define&&define.amd?define("riot-echarts",["echarts","riot"],e):t.riotECharts=e(t.echarts,t.riot)}(this,function(t,e){"use strict";function r(t,e){void 0===e&&(e={});var r=t||{};return Object.keys(e).forEach(function(t){r[t]=e[t]}),r}function o(t){return"function"==typeof t}function a(t){t.toolbox={show:!0,feature:{magicType:{type:["line","bar","stack"],title:{line:"Line Chart",bar:"Column Chart",stack:"Stacked Bar Chart"}},restore:{title:"Restore"},saveAsImage:{title:"Save AS Image"}}}}function n(t){t.dataZoom={show:!0,realtime:!0,handleColor:"#018564",fillerColor:"#80D9C3",handleSize:3,height:20,start:50,end:100}}function i(t){var e=t.type,r=t.table,o=t.color,i=t.dataZoom,c=t.toolbox,u={legend:{data:[],align:"left"},tooltip:{trigger:"item"},xAxis:[{type:"category",boundaryGap:!0,axisLabel:{show:!0,interval:"auto",textStyle:{fontStyle:"italic"}},data:[]}],yAxis:[{type:"value"}],series:[],color:o,calculable:!1},f=r.columnCount;if(f>1){for(var s=1;s<f;s++){var l=r.getColumn(s).name;u.legend.data.push(l),u.series.push({name:l,type:e,data:[]})}for(var d=r.rowCount,h=0;h<d;h++)for(var p=0;p<f;p++)0===p?u.xAxis[0].data.push(r.getValue(h,p)):u.series[p-1].data.push(r.getValue(h,p))}return c===!0?a(u):c&&(u.toolbox=c),i===!0?n(u):i&&(u.dataZoom=i),u}function c(t){var e=t.type,r=t.data,o=t.color;void 0===o&&(o=l);var a=t.dataZoom,n=t.toolbox,i=d[e];if(i){var c=r instanceof f?r:new f(r);return i({type:e,table:c,color:o,dataZoom:a,toolbox:n})}throw new Error("unsupported chart type in simple mode, please use option directly")}function u(t,e,r){var o=null;return function(){for(var a=[],n=arguments.length;n--;)a[n]=arguments[n];var i=r||this;clearTimeout(o),o=setTimeout(function(){t.apply(i,a)},e)}}var f=function(t){var e=this;t=t||[],this.columns=[];var r=t[0]||[];r.forEach(function(t){return e.columns.push({name:t})}),this.rows=t.slice(1)},s={columnCount:{},rowCount:{}};f.prototype.getColumn=function(t){return this.columns[t]},s.columnCount.get=function(){return this.columns.length},s.rowCount.get=function(){return this.rows.length},f.prototype.getRow=function(t){return this.rows[t]},f.prototype.getValue=function(t,e){if(t<0||e<0)return null;var r=this.rows[t];return r?r[e]:null},f.prototype.setValue=function(t,e,r){if(!(t<0||e<0)){var o=this.rows[t]||(this.rows[t]=[]);o[e]=r}},f.prototype.toJSON=function(){var t=this;return this.rows.map(function(e){var r={};return t.columns.forEach(function(t,o){return r[t.name]=e[o]}),r})},Object.defineProperties(f.prototype,s);var l=["#a489d6","#239afc","#54d81c","#5856ce","#4386a0","#093084","#26aabf","#5a25f9","#76a0db","#7588dd","#f7eb91","#daf783","#d321e0","#7634ef","#05bc9b","#cea146","#ffbfc0","#5dfc7d","#ffc9f9","#9ad5e0","#8ea4e5","#490c7f","#49fcb4","#20a33c","#f7ee40","#fcf63f","#efef1f","#f45642","#e08374","#30b6ff","#f75f4f","#27ddd7","#af2f49","#dbc4fc","#53b220","#a71dd1","#15bfa2","#f79f9e","#c92427","#380170","#ed9f78","#f464d5","#dd6158","#f7cfad","#36e830","#80f782","#90f9ac","#c69715","#0a8ed6","#9ec942","#f9b1c8","#a114ff","#51dba4","#a4abf2"],d={line:function(t){return i(t)},bar:function(t){var e=i(t);return e.series.forEach(function(t){r(t,{barMaxWidth:30,label:{normal:{show:!0,position:"outside"}}})}),e},pie:function(t){var e=i(t);e.tooltip.formatter="{a} <br/>{b} : {c} ({d}%)";var o=e.series[0];return o&&r(o,{radius:"55%",center:["50%","50%"],data:[]}),e}},h=500;e.tag("echart",'<div class="chart" ref="chartHost" ></div>','echart, echart .chart,[data-is="echart"], [data-is="echart"] .chart {display:block; width:100%; height: 100%;}',function(e){function a(){return n.refs.chartHost||n.root.querySelector("[.chart]")}var n=this,i=null;Object.defineProperty(n,"chart",{get:function(){return i}});var f;n.on("mount",function(){if(!t||!o(t.init))throw new Error("please import ECharts!!!");f=a(),n.drawChart()}),n.on("unmount",function(){n.destroyChart()}),n.on("updated",function(){n.drawChart()}),n.drawChart=u(function(){if(n.isMounted&&f){if(i||(i=t.init(f)),e.option)return void i.setOption(e.option);if(e.simple){e.simple.type||"pie";i&&i.showLoading();var a,u=function(t,a){if(t)return void console.error(t);if(a&&o(a.then))return void a.then(function(t){return u(null,t)},u);var n=r({},e.simple);n.data=a;var f=c(n);f&&i&&i.setOption(f),i&&i.hideLoading()};if(o(e.simple.data)){var s=e.simple.data.call(null,u);if(!s)return;a=s}a=a||e.simple.data,a?u(null,a):i&&i.hideLoading()}}},h),n.redrawChart=function(){n.destroyChart(),n.update()},n.destroyChart=function(){i&&(i.dispose(),i=null)}}),window.addEventListener("resize",u(function(t){var e=[].slice.call(document.querySelectorAll('echart, [data-is="echart"]'));e.forEach(function(t){var e=t._tag;e&&e.chart&&e.chart.resize()})},300));var p={DataTable:f,factory:c};return p});
//# sourceMappingURL=riot-echarts.min.js.map
